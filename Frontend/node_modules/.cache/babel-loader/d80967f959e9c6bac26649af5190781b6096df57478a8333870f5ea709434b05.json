{"ast":null,"code":"var _jsxFileName = \"D:\\\\New Student bridge\\\\Frontend\\\\src\\\\Admin\\\\HousingAdminApproval.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Container, Card, Image, Button } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport \"./ApprovalCard.css\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HousingAdminApproval = () => {\n  _s();\n  const [dataList, setDataList] = useState([]);\n  const onApprove = id => {\n    axios.patch(`http://localhost:8000/pg/pgReg/action/${id}`, {\n      action: \"approve\"\n    }).then(response => {\n      console.log(\"Item Approved:\", response.data);\n\n      // Update the local state\n      setDataList(prevDataList => prevDataList.map(item => item.id === id ? {\n        ...item,\n        approved: true\n      } : item));\n    }).catch(error => {\n      console.error(\"Error Approving Item:\", error);\n    });\n  };\n  const onReject = id => {\n    axios.patch(`http://localhost:8000/pg/pgReg/action/${id}`, {\n      action: \"reject\"\n    }).then(response => {\n      console.log(\"Item Rejected and Deleted:\", response.data);\n\n      // Update the local state\n      setDataList(prevDataList => prevDataList.filter(item => item.id !== id));\n    }).catch(error => {\n      console.error(\"Error Rejecting Item:\", error);\n    });\n  };\n  useEffect(() => {\n    axios.get(\"http://localhost:8000/pg/pgReg/homepage\", {\n      params: {\n        verify: false // Add a query parameter to filter by 'verify' field\n      }\n    }).then(response => {\n      console.log(response);\n      setDataList(response.data.map(item => ({\n        id: item._id,\n        place: item.location,\n        price: item.budget,\n        img: \"img/1.jpg\" // You may need to adjust this based on your actual image data in the API response\n      })));\n    }).catch(error => {\n      console.error(\"API Error:\", error);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"p-3\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"mb-4 text-primary\",\n      children: \"Housing Admin Approval\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex flex-wrap justify-content-around m-2\",\n      children: dataList.map(item => /*#__PURE__*/_jsxDEV(Card, {\n        className: \"housing-admin-approval-card mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(Image, {\n          src: item.img,\n          alt: item.place,\n          className: \"card-image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"card-title my-2\",\n            children: [\"Rent: $\", item.price, \" | Location: \", item.place]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-between\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              className: \"m-3\",\n              variant: \"success\",\n              onClick: () => onApprove(item.id),\n              children: \"Approve\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: {\n                pathname: `/houseDetail/${data.id}`\n              },\n              style: {\n                textDecoration: \"none\",\n                color: \"black\"\n              },\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"primary\",\n                className: \"mb-3\",\n                children: \"Show More\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              className: \"m-3\",\n              variant: \"danger\",\n              onClick: () => onReject(item.id),\n              children: \"Reject\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n_s(HousingAdminApproval, \"Q8xkRfrPPyoly26OmJCucpuPJ7I=\");\n_c = HousingAdminApproval;\nexport default HousingAdminApproval;\nvar _c;\n$RefreshReg$(_c, \"HousingAdminApproval\");","map":{"version":3,"names":["React","useState","useEffect","Container","Card","Image","Button","axios","Link","jsxDEV","_jsxDEV","HousingAdminApproval","_s","dataList","setDataList","onApprove","id","patch","action","then","response","console","log","data","prevDataList","map","item","approved","catch","error","onReject","filter","get","params","verify","_id","place","location","price","budget","img","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","variant","onClick","to","pathname","style","textDecoration","color","_c","$RefreshReg$"],"sources":["D:/New Student bridge/Frontend/src/Admin/HousingAdminApproval.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Container, Card, Image, Button } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport \"./ApprovalCard.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst HousingAdminApproval = () => {\r\n  const [dataList, setDataList] = useState([]);\r\n\r\n  const onApprove = (id) => {\r\n    axios\r\n      .patch(`http://localhost:8000/pg/pgReg/action/${id}`, {\r\n        action: \"approve\",\r\n      })\r\n      .then((response) => {\r\n        console.log(\"Item Approved:\", response.data);\r\n\r\n        // Update the local state\r\n        setDataList((prevDataList) =>\r\n          prevDataList.map((item) =>\r\n            item.id === id ? { ...item, approved: true } : item\r\n          )\r\n        );\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error Approving Item:\", error);\r\n      });\r\n  };\r\n\r\n  const onReject = (id) => {\r\n    axios\r\n      .patch(`http://localhost:8000/pg/pgReg/action/${id}`, {\r\n        action: \"reject\",\r\n      })\r\n      .then((response) => {\r\n        console.log(\"Item Rejected and Deleted:\", response.data);\r\n\r\n        // Update the local state\r\n        setDataList((prevDataList) =>\r\n          prevDataList.filter((item) => item.id !== id)\r\n        );\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error Rejecting Item:\", error);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"http://localhost:8000/pg/pgReg/homepage\", {\r\n        params: {\r\n          verify: false, // Add a query parameter to filter by 'verify' field\r\n        },\r\n      })\r\n      .then((response) => {\r\n        console.log(response);\r\n        setDataList(\r\n          response.data.map((item) => ({\r\n            id: item._id,\r\n            place: item.location,\r\n            price: item.budget,\r\n            img: \"img/1.jpg\", // You may need to adjust this based on your actual image data in the API response\r\n          }))\r\n        );\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"API Error:\", error);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <Container className=\"p-3\">\r\n      <h1 className=\"mb-4 text-primary\">Housing Admin Approval</h1>\r\n      <div className=\"d-flex flex-wrap justify-content-around m-2\">\r\n        {dataList.map((item) => (\r\n          <Card key={item.id} className=\"housing-admin-approval-card mb-4\">\r\n            <Image src={item.img} alt={item.place} className=\"card-image\" />\r\n            <div className=\"card-body\">\r\n              <h5 className=\"card-title my-2\">\r\n                Rent: ${item.price} | Location: {item.place}\r\n              </h5>\r\n              <div className=\"d-flex justify-content-between\">\r\n                <Button\r\n                  className=\"m-3\"\r\n                  variant=\"success\"\r\n                  onClick={() => onApprove(item.id)}\r\n                >\r\n                  Approve\r\n                </Button>\r\n                <Link\r\n                  to={{\r\n                    pathname: `/houseDetail/${data.id}`,\r\n                  }}\r\n                  style={{ textDecoration: \"none\", color: \"black\" }}\r\n                >\r\n                  <Button variant=\"primary\" className=\"mb-3\">\r\n                    Show More\r\n                  </Button>\r\n                </Link>\r\n                <Button\r\n                  className=\"m-3\"\r\n                  variant=\"danger\"\r\n                  onClick={() => onReject(item.id)}\r\n                >\r\n                  Reject\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n        ))}\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default HousingAdminApproval;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}